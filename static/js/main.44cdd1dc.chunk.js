(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(A,e,t){A.exports=t(28)},,,,,,function(A,e,t){},,,function(A,e,t){},function(A,e,t){},function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAALuCAYAAABYc+TqAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wMSCxwbgfNdGAAABcVJREFUeNrtwQENAAAAwqD3T20PBxQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLMB55gAAbyVNyAAAAAASUVORK5CYII="},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){"use strict";t.r(e);var n=t(0),a=t.n(n),r=t(9),o=t.n(r),s=(t(16),t(1)),i=t(2),c=t(4),l=t(3),u=t(5),d=t(6),p=t.n(d),m=t(7),v=function(A){return"https://api.themoviedb.org/3"+A+"?api_key=4d401448d79a8586637ecc6edc973fae"},h=["&vote_count.gte=100"],f=(t(19),function(A){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,A),Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{id:"loadingSpinner",className:"sk-cube-grid"},a.a.createElement("div",{className:"sk-cube sk-cube1"}),a.a.createElement("div",{className:"sk-cube sk-cube2"}),a.a.createElement("div",{className:"sk-cube sk-cube3"}),a.a.createElement("div",{className:"sk-cube sk-cube4"}),a.a.createElement("div",{className:"sk-cube sk-cube5"}),a.a.createElement("div",{className:"sk-cube sk-cube6"}),a.a.createElement("div",{className:"sk-cube sk-cube7"}),a.a.createElement("div",{className:"sk-cube sk-cube8"}),a.a.createElement("div",{className:"sk-cube sk-cube9"}))}}]),e}(n.Component)),b=(t(20),function(A){function e(A){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,A))).state={imageLoaded:!1},t}return Object(u.a)(e,A),Object(i.a)(e,[{key:"componentDidUpdate",value:function(A){var e=this;if(this.props.poster_src!==A.poster_src){this.setState({imageLoaded:!1});var t=new Image;t.src=this.props.poster_src,t.onload=function(){e.setState({imageLoaded:!0})}}}},{key:"render",value:function(){return a.a.createElement("div",{id:"Poster"},this.props.loading||!this.state.imageLoaded?a.a.createElement("div",{id:"noPosterContainer"},a.a.createElement("img",{id:"noPoster",src:t(21),alt:"loading_poster"}),a.a.createElement("div",{id:"spinner"},a.a.createElement(f,null))):a.a.createElement("img",{id:"posterImage",src:this.props.poster_src,alt:"movie_poster"}))}}]),e}(n.Component)),g=(t(22),function(A){function e(){var A,t;Object(s.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(c.a)(this,(A=Object(l.a)(e)).call.apply(A,[this].concat(a)))).genCast=function(){for(var A=t.props.cast||[],e=[],n=0;n<A.length;n++){var a=A[n];a.profile_path&&e.push({character:a.character,name:a.name,pic_src:"https://image.tmdb.org/t/p/w200"+a.profile_path})}return e},t}return Object(u.a)(e,A),Object(i.a)(e,[{key:"componentDidMount",value:function(){var A,e,t=document.getElementById("castItemsContainer"),n=!1;t.addEventListener("mousedown",function(a){n=!0,e=t.scrollLeft,n&&(A=a.pageX-t.offsetLeft,t.classList.add("active"))}),t.addEventListener("mouseleave",function(){n=!1,t.classList.remove("active")}),t.addEventListener("mouseup",function(){n=!1,t.classList.remove("active")}),t.addEventListener("mousemove",function(a){if(n){a.preventDefault();var r=2*(a.pageX-t.offsetLeft-A);t.scrollLeft=e-r}})}},{key:"render",value:function(){var A=this.genCast();return a.a.createElement("div",{id:"castItemsContainer"},A.map(function(e,t){return a.a.createElement("div",{className:"castItem"+(0===t?" first ":" ")+(t===A.length-1?"last":""),key:e.name},a.a.createElement("img",{src:e.pic_src,alt:"actor pic"}),a.a.createElement("div",{className:"castText"},a.a.createElement("div",null,e.name),a.a.createElement("div",null,e.character)))}))}}]),e}(n.Component)),E=(t(23),function(A){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,A),Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{id:"plotTextContainer"},a.a.createElement("div",null,this.props.plot))}}]),e}(n.Component)),w=(t(24),t(25),function(A){function e(A){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,A))).formatInfo=function(){return t.props.isFlop?a.a.createElement("div",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.imdb.com/title/"+t.props.imdb},t.props.title)," was a flop!"):a.a.createElement("div",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.imdb.com/title/"+t.props.imdb},t.props.title)," was a success!")},t.formatDollars=function(A){return A/1e6>1?"$"+Math.round(A/1e6)+"M":"$"+Math.round(A/1e3)+"K"},t.state={scoreDiv:{},resultDiv:{}},t}return Object(u.a)(e,A),Object(i.a)(e,[{key:"componentDidMount",value:function(){var A=document.getElementById("Score"),e=document.getElementById("PlayerResult");this.setState({scoreDiv:A,resultDiv:e})}},{key:"componentDidUpdate",value:function(A){var e=this;if(A.score!==this.props.score){var t=-(A.score-this.props.score),n=document.createElement("div");n.className="bubble "+(t>0?"win":"loss");var a=document.createTextNode(t);n.appendChild(a);var r=document.createElement("div");r.className="resultBubble "+(t>0?"win":"loss");var o=document.createTextNode(t>0?"CORRECT":"WRONG");r.appendChild(o),this.state.scoreDiv.appendChild(n),this.state.resultDiv.appendChild(r),setTimeout(function(){e.state.scoreDiv.removeChild(n),e.state.resultDiv.removeChild(r)},1e3)}}},{key:"render",value:function(){return a.a.createElement("div",{id:"GameBar",className:this.props.win?"win":"loss"},a.a.createElement("div",{id:"Score",className:"barItem"},a.a.createElement("div",{className:"title"},"Score"),a.a.createElement("div",{className:"text"},this.props.score)),a.a.createElement("div",{id:"PlayerResult",className:"barItem"},this.formatInfo()),a.a.createElement("div",{id:"RoundInfo",className:"barItem"},a.a.createElement("div",null,"Bgt.: ",this.formatDollars(this.props.budget)),a.a.createElement("div",null,"Rev.: ",this.formatDollars(this.props.revenue))))}}]),e}(n.Component)),O=function(A){function e(A){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,A))).anchorLinkHandler=function(A){var e=function(A){return Math.floor(A.getBoundingClientRect().top)},t=document.getElementById(A);if(t){var n=e(t);window.scrollBy({top:n,left:0,behavior:"smooth"});var a=setInterval(function(){var A=window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2;(0===e(t)||A)&&(t.tabIndex="-1",t.focus(),clearInterval(a))},100)}},t.handleWin=function(){t.setState({win:!0,score:t.state.score+t.state.currentWinPoints,currentWinPoints:t.state.winPoints,cast:!1,plot:!1}),t.props.newMovie()},t.handleLoss=function(){t.setState({win:!1,score:t.state.score-t.state.lossPoints,cast:!1,plot:!1}),t.props.newMovie()},t.userPick=function(A){var e=t.props.movie.budget>.95*t.props.movie.revenue;t.setState({wasFlop:e,prevMovie:t.props.movie}),window.scrollTo({top:0,left:0,behavior:"smooth"}),A===e?t.handleWin():t.handleLoss()},t.showCast=function(){t.setState({cast:!0,currentWinPoints:t.state.currentWinPoints-t.state.castPoints}),setTimeout(function(){window.scrollTo({top:1e4,left:0,behavior:"smooth"})},200)},t.showPlot=function(){t.setState({plot:!0,currentWinPoints:t.state.currentWinPoints-t.state.plotPoints}),setTimeout(function(){window.scrollTo({top:1e4,left:0,behavior:"smooth"})},200)},t.state={win:!1,wasFlop:!1,prevMovie:{},score:0,winPoints:10,currentWinPoints:10,lossPoints:20,castPoints:3,plotPoints:2,cast:!1,plot:!1},t}return Object(u.a)(e,A),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.anchorLinkHandler()}},{key:"render",value:function(){var A=this;return a.a.createElement("div",{id:"GameContainer"},a.a.createElement("div",{style:{pointerEvents:this.props.loading?"none":"auto"},className:"button left",onClick:function(){return A.userPick(!0)}},a.a.createElement("span",null,"Flop")),a.a.createElement("div",{style:{pointerEvents:this.props.loading?"none":"auto"},className:"button right",onClick:function(){return A.userPick(!1)}},a.a.createElement("span",null,"Not")),a.a.createElement("div",{id:"posterContainer"},a.a.createElement(b,{poster_src:this.props.movie.poster_src,loading:this.props.loading})),a.a.createElement("div",{id:"castButton",onClick:function(){return A.showCast()},className:"hintButton"+(this.state.cast||this.props.loading?" hide ":" show ")+(this.props.loading?" hideLoad":"")},a.a.createElement("span",null,"SHOW CAST (-",this.state.castPoints," points)")),a.a.createElement("div",{id:"castContainer",className:"hintContainer"+(this.state.cast?" show":" hide")},a.a.createElement(g,{cast:this.props.movie.cast})),a.a.createElement("div",{id:"plotButton",onClick:function(){return A.showPlot()},className:"hintButton"+(!this.state.plot&&this.state.cast?" show":" hide")+(this.props.loading?" hideLoad":"")},a.a.createElement("span",null,"SHOW PLOT (-",this.state.plotPoints," points)")),a.a.createElement("div",{id:"plotContainer",className:"hintContainer"+(this.state.plot?" show":" hide")},a.a.createElement(E,{plot:this.props.movie.plot})),a.a.createElement(w,{title:this.state.prevMovie.title,imdb:this.state.prevMovie.imdb_id,isFlop:this.state.wasFlop,win:this.state.win,score:this.state.score,revenue:this.state.prevMovie.revenue,budget:this.state.prevMovie.budget}))}}]),e}(n.Component),k=function(A){function e(A){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,A))).getNoOfPages=function(){return fetch(v("/discover/movie")+h.join("")).then(function(A){return A.json()}).then(function(A){return A.total_pages})},t.getRandId=function(){var A=Math.floor(Math.random()*t.state.noOfPages)+1;return fetch(v("/discover/movie")+h.join("")+"&page="+A).then(function(A){return A.json()}).then(function(A){var e=Math.floor(Math.random()*A.results.length);return A.results[e].id})},t.getMovie=function(A){return fetch(v("/movie/"+A)+"&append_to_response=credits").then(function(A){return A.json()}).then(function(A){return A.revenue>1e3&&A.budget>1e3&&A})},t.getValidMovie=Object(m.a)(p.a.mark(function A(){var e,n;return p.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,t.getRandId();case 2:return e=A.sent,A.next=5,t.getMovie(e);case 5:if(!(n=A.sent)){A.next=10;break}return A.abrupt("return",n);case 10:return A.abrupt("return",t.getValidMovie());case 11:case"end":return A.stop()}},A)})),t.getData=Object(m.a)(p.a.mark(function A(){var e,n;return p.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return t.setState({loading:!0}),A.next=3,t.getValidMovie();case 3:e=A.sent,n={title:e.title,plot:e.overview,poster_src:"https://image.tmdb.org/t/p/w500"+e.poster_path,cast:e.credits.cast.slice(0,5),budget:e.budget,revenue:e.revenue,imdb_id:e.imdb_id},t.setState({movie:n,loading:!1});case 6:case"end":return A.stop()}},A)})),t.state={noOfPages:1,movie:{},loading:!0},t}return Object(u.a)(e,A),Object(i.a)(e,[{key:"componentDidMount",value:function(){var A=Object(m.a)(p.a.mark(function A(){var e;return p.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.getNoOfPages();case 2:return e=A.sent,A.next=5,this.setState({noOfPages:e});case 5:this.getData();case 6:case"end":return A.stop()}},A,this)}));return function(){return A.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(O,Object.assign({},this.state,{newMovie:this.getData})))}}]),e}(n.Component),j=(t(26),function(A){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,A),Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{id:"Header"},a.a.createElement("div",null,"Flop or Not"),a.a.createElement("div",{className:"itemContainer"},a.a.createElement("a",{className:"about item",target:"_blank",rel:"noopener noreferrer",href:"https://msfstef.github.io/#/about"},"About"),a.a.createElement("a",{className:"contact item",target:"_blank",rel:"noopener noreferrer",href:"https://msfstef.github.io/#/contact"},"Contact")))}}]),e}(n.Component)),C=(t(27),function(A){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,A),Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(j,null),a.a.createElement(k,null))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(A){A.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.44cdd1dc.chunk.js.map